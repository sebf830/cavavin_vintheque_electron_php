<!DOCTYPE html>
<html lang="fr" x-data="app()" xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8" />
  <title>Cavavin|Accueil</title>
  <link rel="stylesheet" href="assets/global_style.css" />
</head>
<body>
    <div class="bottle">
		<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="200px"
			viewBox="0 0 1675 2688" style="enable-background:new 0 0 1675 2688;" xml:space="preserve"><g>
			<path style="fill:#6f0025;" d="M694.947,970.736c0-0.001,0-0.001,0-0.002c0.349-1.134,0.639-2.269,0.931-3.403
				c-0.698-0.504-0.117-1.827,0-2.205c41.441-160.415,44.365-430.159,43.319-552.509c3.261,0.843,6.569,1.623,10.013,2.371
				c5.748,1.248,12.193,2.076,18.981,2.655c1.106,87.784,2.375,375.222-24.617,556.933c0,0-0.001,0.001-0.001,0.001
				c30.065,1.89,61.468,2.896,93.8,2.896c32.223,0,63.576-1.007,93.648-2.834c0.008-0.001,0.015-0.001,0.023-0.002
				C904.11,792.443,905.44,504.513,906.55,417.234c6.989-0.428,13.813-0.985,20.25-1.754c3.112-0.371,5.968-1.004,8.734-1.769
				c-1.021,123.071,2,392.467,43.384,552.487v1.134c0.29,1.133,0.581,2.266,0.93,3.4c8.368-0.819,16.619-1.763,24.698-2.707
				c0.003,0.008,0.005,0.015,0.008,0.023c0.027-0.005,0.057-0.009,0.084-0.014v-1.078c-57.141-180.875-52.341-490.408-50.393-561.422
				c0.286-0.16,0.549-0.286,0.837-0.45c12.247-6.948,19.887-21.693,22.869-36.846c2.982-15.153,1.953-30.904,0.911-46.384
				c-1.979-29.32-3.954-58.639-5.931-87.959c-0.855-12.695-1.738-25.547-5.35-37.603c-8.877-29.656-33.4-50.536-59.643-60.316
				c-22.634-8.436-46.683-9.866-70.593-10.281c-23.909,0.415-47.958,1.845-70.593,10.281c-26.243,9.781-50.765,30.661-59.643,60.316
				c-3.611,12.057-4.494,24.908-5.349,37.603c-1.978,29.32-3.953,58.639-5.93,87.959c-1.043,15.48-2.072,31.231,0.909,46.384
				c2.982,15.153,10.622,29.898,22.869,36.846c0.339,0.193,0.679,0.314,1.018,0.499c1.948,70.997,6.714,379.544-50.403,560.342
				c-0.117,0.367-0.775,1.655,0,2.108c0.008,0.001,0.017,0.002,0.025,0.004c8.109,0.942,16.334,1.883,24.675,2.698
				C694.932,970.735,694.94,970.736,694.947,970.736z M741.547,334.347c-0.417-8.094-2.77-16.158-1.66-24.175
				c0.99-7.144,4.687-13.755,4.747-20.979c0.056-6.789-3.115-13.139-3.797-19.888c-0.892-8.822,3.079-16.644,3.344-25.07
				c0.322-10.219-5.721-21.857-9.507-30.883c30.663,4.75,61.863,5.423,92.676,1.999c-19.231,11.489-42.085,12.687-63.261,18.993
				c-1.225,0.365-2.545,0.823-3.259,1.963c-1.739,2.779,1.421,5.936,3.452,8.472c4.359,5.441,2.212,9.642,1.058,15.353
				c-1.515,7.498-0.441,15.108,0.879,22.743c0.914,5.293,2.172,10.811,0.732,15.965c-1.649,5.899-6.511,10.108-8.823,15.741
				c-4.186,10.199,0.998,22.17,7.954,30.405c14.864,17.597,36.878,25.573,58.076,32.026c10.421,3.172,21.766,6.101,31.828,1.779
				c-12.607,6.103-26.894,6.973-40.641,5.569c-13.748-1.403-27.221-4.964-40.847-7.384c-18.282-3.245-38.139-5.014-52.199-18.08
				c2.682-2.719,6.854-2.502,10.262-3.988C739.503,351.882,741.964,342.441,741.547,334.347z M746.013,389.517
				c10.807,3.927,21.537,6.458,32.832,8.056c23.322,3.299,46.944,4.412,70.441,3.253c11.473-0.565,22.918-1.708,34.287-3.488
				c9.634-1.509,19.308-3.347,28.498-6.922c17.524-6.815,32.485-20.707,34.731-41.737c2.221-20.798-7.903-39.988-11.212-59.963
				c-1.82-10.981,0.065-21.949,1.039-32.924c1.063-11.966,1.61-24.171-0.912-35.978c-1.87-8.757-5.156-18.056-12.556-22.938
				c-5.799-3.824-12.939-4.529-19.576-4.107c-15.588,0.992-30.225,7.373-45.433,10.559c-10.223,2.142-21.032,2.169-31.407,2.032
				c-12.261-0.163-24.505-1.287-36.647-3.099c-11.657-1.738-23.184-4.234-34.756-6.511c-8.714-1.715-17.598-3.67-25.229-8.787
				c-1.296-0.868-2.431-1.939-3.608-2.958c16.335,1.551,32.594,3.923,48.893,5.908c20.601,2.509,41.012,3.474,61.724,2.348
				c20.683-1.124,41.436-4.026,61.705-8.638c13.933-3.169,28.369-5.872,41.597-11.745l0.441-0.219
				c10.622,14.676,22.059,31.391,24.952,50.001l0.135,1.258c0.272,2.898,0.52,5.794,0.723,8.699c0.24,6.173,0.079,12.384,0.193,18.537
				c0.181,9.849,1.771,19.544,1.424,29.425c-0.341,9.662-4.084,18.278-5.339,27.747c-1.136,8.564,1.695,17.008,3.773,25.147
				c2.101,8.23,2.879,16.09,1.153,24.486c-1.205,5.857-3.376,11.355-6.516,16.303c-12.938,20.386-38.509,27.256-59.703,31.035
				l-0.516,0.082c-22.136,4.55-44.341,6.311-63.796,6.322c-16.583-0.01-36.741-2.78-54.571-6.318
				c-9.43-1.578-18.791-3.605-27.977-6.284c-7.341-2.14-14.678-4.892-21.59-8.322c-4.609-2.287-9.413-5.042-13.397-8.687
				C728.745,383.027,737.385,386.381,746.013,389.517z"/>
			<path style="fill:#373841;" d="M1029.208,1037.832c-8.664-22.359-16.98-45.538-24.655-69.785c-0.003-0.008-0.005-0.015-0.008-0.023
				c-8.078,0.945-16.33,1.888-24.698,2.707c0,0.001,0,0.002,0.001,0.003c6.165,23.878,12.913,46.748,19.951,68.799
				c22.22,69.997,47.696,132.244,72.068,191.908c51.361,125.943,97.603,368.442,97.603,520.846v726.488
				c0,14.233-2.674,27.017-7.556,38.48c40.643-19.468,67.794-47.625,67.794-88.19v-702.232c0-147.301-54.619-381.735-115.287-503.457
				C1085.63,1165.665,1055.5,1105.497,1029.208,1037.832z"/>
			<path style="fill:#6f0025;" d="M1070.239,2213.253c-44.322,70.197-116.979,127.58-232.87,153.324
				c-115.892-25.744-188.548-83.127-232.87-153.324v307.985c0,8.694,0.698,16.822,2.036,24.445
				c-34.435-6.489-66.95-15.561-93.649-28.352c-4.886-11.466-7.562-24.256-7.562-38.558v-726.488
				c0-157.444,49.384-402.526,102.723-533.446c23.906-58.656,48.627-120.147,70.09-189.324c5.875-18.963,11.516-38.494,16.811-58.78
				c-0.008-0.001-0.016-0.001-0.023-0.002c-8.341-0.816-16.566-1.757-24.675-2.698c-0.034-0.004-0.07-0.008-0.104-0.011
				c-6.632,20.792-13.612,40.763-20.94,60.168c-25.36,66.847-54.559,126.258-82.829,182.961
				c-63.053,126.573-121.394,363.464-121.394,515.679v702.232c0,40.574,27.222,68.736,67.88,88.267
				c26.699,12.79,59.214,21.863,93.649,28.352c84.516,15.814,180.666,15.688,230.806,15.688c50.197,0,146.347,0.126,230.864-15.688
				c0.008-0.001,0.016-0.003,0.025-0.005c1.337-7.621,2.034-15.748,2.034-24.44V2213.253z"/>
			<path style="fill:#6f0025;" d="M931.022,974.64c-30.072,1.827-61.424,2.834-93.648,2.834c-32.332,0-63.735-1.007-93.8-2.896
				c-1.686,11.403-3.488,22.428-5.409,33.012v2.205c-3.955,21.485-8.085,42.149-12.448,62.184
				c-15.065,69.178-32.34,130.669-49.152,189.324c-35.644,124.771-68.78,353.175-71.817,510.646
				c19.265,15.894,48.867,30.731,92.318,30.731c93.578,0,140.302-56.826,140.302-56.826s46.724,56.826,140.303,56.826
				c43.453,0,73.056-14.839,92.32-30.733c-2.921-152.866-33.897-378.197-68.214-498.043c-17.043-59.664-34.959-121.911-50.548-191.907
				c-5.176-23.122-10.063-47.126-14.599-72.202v-1.134c-1.977-10.899-3.839-22.303-5.585-34.022c0-0.001,0-0.001,0-0.002
				C931.037,974.639,931.03,974.64,931.022,974.64z"/>
			<path style="fill:#6f0025;" d="M768.191,417.644c-6.788-0.579-13.233-1.407-18.981-2.655c-3.445-0.748-6.753-1.528-10.013-2.371
				c1.046,122.35-1.878,392.094-43.319,552.509c-0.117,0.378-0.698,1.701,0,2.205c-0.291,1.134-0.582,2.268-0.931,3.403
				c15.763,1.575,31.992,2.834,48.627,3.843C770.567,792.865,769.297,505.428,768.191,417.644z"/>
			<path style="fill:#6f0025;" d="M978.917,966.198c-41.384-160.02-44.404-429.416-43.384-552.487
				c-2.765,0.765-5.621,1.398-8.734,1.769c-6.437,0.769-13.261,1.326-20.25,1.754c-1.11,87.28-2.44,375.21,24.495,557.405
				c0,0.001,0,0.001,0,0.002c16.695-1.072,32.982-2.331,48.803-3.906c-0.001-0.001-0.001-0.002-0.001-0.003
				c-0.349-1.134-0.64-2.267-0.93-3.4V966.198z"/>
			<path style="fill:#6f0025;" d="M574.063,1733.872c0,0,8.46,19.742,30.685,38.078c3.037-157.471,36.173-385.875,71.817-510.646
				c16.811-58.656,34.087-120.146,49.152-189.324c4.362-20.035,8.493-40.699,12.448-62.184v-2.205
				c1.92-10.584,3.723-21.609,5.409-33.012c0-0.001,0.001-0.001,0.001-0.001c-16.635-1.009-32.864-2.268-48.627-3.843
				c0,0.001,0,0.001,0,0.002c-5.295,20.286-10.936,39.816-16.811,58.78c-21.463,69.177-46.184,130.668-70.09,189.324
				c-53.339,130.92-102.723,376.002-102.723,533.446v726.488c0,14.302,2.676,27.091,7.562,38.558
				c26.698,12.79,59.213,21.863,93.649,28.352c-1.338-7.623-2.036-15.751-2.036-24.445v-307.985
				C483.393,2021.448,574.063,1733.872,574.063,1733.872z"/>
			<path style="fill:#6f0025;" d="M1169.471,1752.286c0-152.404-46.242-394.903-97.603-520.846
				c-24.372-59.664-49.849-121.911-72.068-191.908c-7.038-22.051-13.785-44.921-19.951-68.799
				c-15.821,1.575-32.108,2.834-48.803,3.906c1.745,11.718,3.607,23.122,5.585,34.022v1.134c4.536,25.076,9.423,49.08,14.599,72.202
				c15.589,69.996,33.505,132.243,50.548,191.907c34.317,119.846,65.293,345.177,68.214,498.043
				c22.222-18.335,30.682-38.075,30.682-38.075s90.67,287.576-30.435,479.382v307.985c0,8.692-0.698,16.818-2.034,24.44
				c-0.001,0.002-0.001,0.004-0.001,0.005c34.493-6.489,67.008-15.561,93.707-28.352v-0.063c0.002-0.004,0.003-0.01,0.005-0.015
				c4.882-11.464,7.556-24.248,7.556-38.48V1752.286z"/>
			<path style="fill:#6f0025;" d="M754.801,398.098c9.186,2.679,18.547,4.706,27.977,6.284c17.83,3.538,37.988,6.309,54.571,6.318
				c19.456-0.011,41.661-1.772,63.796-6.322l0.516-0.082c21.194-3.779,46.765-10.648,59.703-31.035
				c3.14-4.947,5.311-10.446,6.516-16.303c1.727-8.396,0.948-16.256-1.153-24.486c-2.078-8.139-4.909-16.583-3.773-25.147
				c1.254-9.469,4.998-18.085,5.339-27.747c0.347-9.881-1.243-19.576-1.424-29.425c-0.114-6.153,0.047-12.364-0.193-18.537
				c-0.203-2.904-0.451-5.801-0.723-8.699l-0.135-1.258c-2.893-18.61-14.33-35.325-24.952-50.001l-0.441,0.219
				c-13.229,5.873-27.665,8.576-41.597,11.745c-20.269,4.611-41.022,7.513-61.705,8.638c-20.712,1.126-41.123,0.16-61.724-2.348
				c-16.298-1.984-32.557-4.356-48.893-5.908c1.177,1.019,2.312,2.089,3.608,2.958c7.631,5.117,16.515,7.072,25.229,8.787
				c11.572,2.277,23.099,4.773,34.756,6.511c12.142,1.811,24.387,2.936,36.647,3.099c10.375,0.137,21.184,0.111,31.407-2.032
				c15.208-3.186,29.846-9.567,45.433-10.559c6.636-0.423,13.777,0.283,19.576,4.107c7.4,4.881,10.686,14.18,12.556,22.938
				c2.522,11.807,1.975,24.012,0.912,35.978c-0.974,10.976-2.859,21.943-1.039,32.924c3.309,19.975,13.433,39.165,11.212,59.963
				c-2.247,21.03-17.208,34.922-34.731,41.737c-9.19,3.574-18.865,5.413-28.498,6.922c-11.368,1.781-22.814,2.923-34.287,3.488
				c-23.497,1.158-47.119,0.046-70.441-3.253c-11.295-1.598-22.025-4.129-32.832-8.056c-8.628-3.136-17.268-6.49-26.2-8.427
				c3.984,3.645,8.789,6.4,13.397,8.687C740.123,393.206,747.46,395.958,754.801,398.098z"/>
			<path style="fill:#6f0025;" d="M732.561,354.911c-3.407,1.486-7.58,1.27-10.262,3.988c14.06,13.066,33.917,14.835,52.199,18.08
				c13.626,2.42,27.1,5.981,40.847,7.384c13.748,1.404,28.034,0.533,40.641-5.569c-10.062,4.322-21.407,1.393-31.828-1.779
				c-21.198-6.452-43.212-14.429-58.076-32.026c-6.956-8.235-12.141-20.206-7.954-30.405c2.312-5.633,7.173-9.842,8.823-15.741
				c1.44-5.154,0.183-10.672-0.732-15.965c-1.32-7.635-2.393-15.246-0.879-22.743c1.154-5.712,3.301-9.912-1.058-15.353
				c-2.031-2.536-5.191-5.693-3.452-8.472c0.714-1.139,2.034-1.598,3.259-1.963c21.176-6.307,44.03-7.505,63.261-18.993
				c-30.813,3.425-62.013,2.751-92.676-1.999c3.787,9.026,9.829,20.664,9.507,30.883c-0.264,8.426-4.235,16.248-3.344,25.07
				c0.682,6.749,3.853,13.099,3.797,19.888c-0.061,7.224-3.757,13.835-4.747,20.979c-1.11,8.016,1.243,16.081,1.66,24.175
				C741.964,342.441,739.503,351.882,732.561,354.911z"/>
			<path style="fill:#6f0025;" d="M977.67,1824.732c-71.166,0-117.856-30.156-140.302-49.288
				c-22.446,19.132-69.136,49.288-140.302,49.288c-56.84,0-92.996-22.903-114.073-43.628c-17.578,77.705-46.848,260.749,25.931,398.38
				c44.681,84.5,121.542,139.864,228.444,164.564c106.958-24.709,183.841-80.123,228.517-164.703
				c72.816-137.86,43.489-320.679,25.882-398.27C1070.694,1801.816,1034.533,1824.732,977.67,1824.732z"/>
			<path style="fill:#6f0025;" d="M837.368,1745.855c0,0-46.724,56.826-140.302,56.826c-43.451,0-73.053-14.837-92.318-30.731
				c-22.225-18.336-30.685-38.078-30.685-38.078s-90.67,287.576,30.435,479.382c44.322,70.197,116.978,127.58,232.87,153.324
				c115.892-25.744,188.548-83.127,232.87-153.324c121.105-191.806,30.435-479.382,30.435-479.382s-8.46,19.74-30.682,38.075
				c-19.265,15.894-48.867,30.733-92.32,30.733C884.093,1802.681,837.368,1745.855,837.368,1745.855z M1091.356,1772.843l3.61-3.818
				l1.241,5.298c17.569,75.068,50.279,265.111-25.272,408.151c-45.619,86.368-123.999,142.849-232.965,167.878l-0.602,0.138
				l-0.602-0.138c-108.909-25.016-187.264-81.451-232.891-167.736c-75.515-142.805-42.864-333.085-25.323-408.264l1.239-5.304
				l3.612,3.821c19.666,20.786,55.347,45.563,113.664,45.563c71.374,0,117.393-30.994,138.473-49.467l1.829-1.603l1.829,1.603
				c21.08,18.473,67.099,49.467,138.473,49.467C1036.004,1818.432,1071.691,1793.642,1091.356,1772.843z"/>
			<path style="fill:#373841;" d="M839.197,1768.964l-1.829-1.603l-1.829,1.603c-21.08,18.473-67.099,49.467-138.473,49.467
				c-58.317,0-93.998-24.776-113.664-45.563l-3.612-3.821l-1.239,5.304c-17.541,75.179-50.191,265.459,25.323,408.264
				c45.627,86.285,123.982,142.72,232.891,167.736l0.602,0.138l0.602-0.138c108.967-25.029,187.346-81.51,232.965-167.878
				c75.551-143.039,42.841-333.082,25.272-408.151l-1.241-5.298l-3.61,3.818c-19.665,20.799-55.352,45.588-113.686,45.588
				C906.296,1818.432,860.277,1787.438,839.197,1768.964z M1091.768,1781.076c17.606,77.591,46.934,260.41-25.882,398.27
				c-44.676,84.58-121.56,139.994-228.517,164.703c-106.901-24.7-183.762-80.064-228.444-164.564
				c-72.779-137.631-43.509-320.676-25.931-398.38c21.077,20.725,57.233,43.628,114.073,43.628
				c71.166,0,117.856-30.156,140.302-49.288c22.445,19.132,69.136,49.288,140.302,49.288
				C1034.533,1824.732,1070.694,1801.816,1091.768,1781.076z"/></g>
		</svg>
  	</div>

	<script>
		async function waitForBackendReady(url, timeout = 10000, interval = 500) {
			const start = Date.now();

			while (Date.now() - start < timeout) {
				try {
					const res = await fetch(url);
					if (res.ok) return true;
				} catch (e) {}
				await new Promise(resolve => setTimeout(resolve, interval));
			}
			throw new Error("Le backend n'est pas prêt après 10s");
		}

		(async () => {
			try {
				window.electronAPI.getBackendPath().then(path => {console.log('Backend path:', path)});

				const backendUrl = await window.electronAPI.getBackendUrl();
				await waitForBackendReady(`${backendUrl}/ping`);

				const delay = new Promise(resolve => setTimeout(resolve, 2500)); 
			
				const [_, data] = await Promise.all([delay, 
					window.location.href = '../templates/dashboard.html'
				]);
			} catch (e) {
				alert("Erreur : Impossible de contacter le serveur.");
			}
		})();
	</script>
</body>
</html>
